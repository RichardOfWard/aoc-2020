#!/usr/bin/env bash

<day4-input.txt awk 'BEGIN {RS="\n\n"}{if($0~/(:.*){8}/||($0~/(:.*){7}/&&$0!~/cid:/))a++;}END{print a}'

<day4-input.txt awk 'BEGIN {RS="\n\n"}{if($0~/\<byr:((19[2-9][0-9])|(200[012]))\>/ && $0~/\<iyr:20((1[0-9])|(20))\>/ && $0~/\<eyr:20((2[0-9])|(30))\>/ && $0~/\<hgt:((1(([5-8][0-9])|(9[0-3]))cm)|(((59)|(6[0-9])|7[0-6])in))\>/ && $0~/\<hcl:#[0-9a-z]{6}\>/ && $0~/\<ecl:((amb)|(blu)|(brn)|(gry)|(grn)|(hzl)|(oth))\>/ && $0~/\<pid:[0-9]{9}\>/)a++}END{print a}'
